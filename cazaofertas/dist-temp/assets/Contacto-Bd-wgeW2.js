import{j as e,m as f}from"./ui-BJ93jQot.js";import{a as l}from"./vendor-TA_wDYrC.js";import{u as v,D as N,l as w,V as m}from"./index-BlDEwxQf.js";import{N as k}from"./notificationService-BzK7A9Fv.js";import"react-toastify";const L=()=>{const[s,c]=l.useState({nombre:"",email:"",asunto:"",mensaje:"",notifyOnResponse:!0}),[d,o]=l.useState(!1),[x,r]=l.useState(null),{user:a}=v(),{createNotification:u}=N(),t=n=>{const{name:i,value:g,type:b,checked:p}=n.target,j=b==="checkbox"?p:g;c(y=>({...y,[i]:j}))},h=async n=>{n.preventDefault(),o(!0);try{a&&s.notifyOnResponse&&(await k.notifyContactResponse(a.id,s.asunto),await u({userId:a.id,type:"CONTACT",title:"Formulario de contacto enviado",message:"Hemos recibido tu mensaje. Te responderemos lo antes posible.",data:{subject:s.asunto}})),setTimeout(()=>{o(!1),r("success"),m.success("Mensaje enviado con éxito"),c({nombre:"",email:"",asunto:"",mensaje:"",notifyOnResponse:!0}),setTimeout(()=>{r(null)},5e3)},1500)}catch(i){console.error("Error al enviar el formulario:",i),o(!1),r("error"),m.error("Error al enviar el mensaje. Inténtalo de nuevo.")}};return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white py-12 px-4",children:e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-4 text-indigo-400",children:"Contacto"}),e.jsx("p",{className:"text-xl text-center text-gray-300 mb-10",children:"Estamos aquí para ayudarte. ¡Contáctanos!"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-indigo-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Correo Electrónico"}),e.jsx("p",{className:"text-gray-400",children:"contacto@cazaofertas.com"})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-indigo-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Redes Sociales"}),e.jsx("p",{className:"text-gray-400",children:"@CazaOfertas"})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg text-center",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-indigo-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Soporte"}),e.jsxs("p",{className:"text-gray-400",children:["Visita nuestra página de ",e.jsx("a",{href:"/soporte",className:"text-indigo-400 hover:underline",children:"soporte"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envíanos un mensaje"}),x==="success"&&e.jsx("div",{className:"bg-green-800/50 border border-green-600 text-green-100 px-4 py-3 rounded mb-6",children:"¡Mensaje enviado con éxito! Te responderemos lo antes posible."}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nombre",className:"block text-gray-300 mb-2",children:"Nombre"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",value:s.nombre,onChange:t,className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md py-2 px-3 focus:outline-none focus:border-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Correo Electrónico"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:t,className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md py-2 px-3 focus:outline-none focus:border-indigo-500",required:!0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"asunto",className:"block text-gray-300 mb-2",children:"Asunto"}),e.jsx("input",{type:"text",id:"asunto",name:"asunto",value:s.asunto,onChange:t,className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md py-2 px-3 focus:outline-none focus:border-indigo-500",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"mensaje",className:"block text-gray-300 mb-2",children:"Mensaje"}),e.jsx("textarea",{id:"mensaje",name:"mensaje",value:s.mensaje,onChange:t,rows:"5",className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md py-2 px-3 focus:outline-none focus:border-indigo-500",required:!0})]}),a&&e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center text-gray-300 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"notifyOnResponse",checked:s.notifyOnResponse,onChange:t,className:"mr-2 rounded bg-gray-700 border-gray-600 text-indigo-600 focus:ring-indigo-500"}),e.jsx(w,{className:"text-indigo-400 mr-2"}),e.jsx("span",{children:"Recibir notificación cuando respondan a mi mensaje"})]})}),e.jsx("button",{type:"submit",disabled:d,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-md transition duration-300 inline-flex items-center",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar mensaje"})]})]})]})})};export{L as default};
